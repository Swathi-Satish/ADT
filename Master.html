    <!DOCTYPE html>
    <html>
        <head>
            <title>Audience Discovery Tool</title>

    <!--JQUERY LINK-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
            
    <!-----------BOOTSTRAP LINKS------------>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.min.js"></script>
    
    
    <!------DATA TABLES LINKS----->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/jszip-2.5.0/dt-1.10.16/af-2.2.2/b-1.4.2/b-colvis-1.4.2/b-flash-1.4.2/b-html5-1.4.2/b-print-1.4.2/cr-1.4.1/fh-3.1.3/r-2.2.0/sc-1.4.3/sl-1.2.3/datatables.min.css"/>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jszip-2.5.0/dt-1.10.16/af-2.2.2/b-1.4.2/b-colvis-1.4.2/b-flash-1.4.2/b-html5-1.4.2/b-print-1.4.2/cr-1.4.1/fh-3.1.3/r-2.2.0/sc-1.4.3/sl-1.2.3/datatables.min.js"></script>
            
    <!--FONTS AND ICONS-->
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
            
    <!--TABLEAU JS APIS-->
    <script type="text/javascript" src="https://public.tableau.com/javascripts/api/tableau-2.min.js"></script> <!-- Change this to point to your server -->
    <script type="text/javascript" src = "https://cdn2.hubspot.net/hubfs/546156/AR%20Code%20Files/rcd.js"></script>
    <script type="text/javascript">

        var viz, sheet, table;
        var current_sheet;
        
        //**TABLEAU TABLE EMBED**//
        function initViz() {
            var containerDiv = document.getElementById("vizContainer"),
                url="https://public.tableau.com/views/table2_8/Table1&:showShareOptions=false&:toolbar=no",
                
                options = {
                    hideTabs: false,
                    hidetoolbar : true,
                    onFirstInteractive: function () {
                        mysbody();
                        $("body").css("cursor", "default");
                    }
                };
            
            viz = new tableau.Viz(containerDiv, url, options); 
            console.log("loaded");
            
            setInterval(function () { viz.redoAsync() }, 120000);
             
        }

        ////***DATA TABLE GENERATION***////
        
        // jQuery DataTables columns takes an array of objects, each with a title property
        function convertColumnsObjectToDataTablesConfigOptionArray(sheetDataObj){
            col_obj = sheetDataObj.getColumns();
            col_array = new Array();
            for (var k=0; k < col_obj.length; k++){
                col_array[k] = { title : col_obj[k].getFieldName() };
            }
            console.log(col_array);
            return col_array;
        }
       
        function convertTableObjectToArray(sheetDataObj, formatted_or_value){
            // This is an array of objects, 
            data = sheetDataObj.getData();
            final_table = new Array();
            console.log(data.length);
            for(var i=0; i < data.length; i++){
                final_table[i] = new Array();
                for(var j=0; j < data[i].length; j++){
                    if (formatted_or_value.toLowerCase() === 'formatted'){
                        final_table[i][j] = data[i][j].formattedValue;
                    }
                    else if (formatted_or_value.toLowerCase() === 'value'){
                        final_table[i][j] = data[i][j].value;
                    }
                }
            }
            return final_table;
        }
        
        function buildDataTablesTable(sheetDataObj, formatted_or_value, empty_table_id){
            var column_header_array = convertColumnsObjectToDataTablesConfigOptionArray(sheetDataObj);
            var table_body_array = convertTableObjectToArray(sheetDataObj, formatted_or_value);
            try {                
                
                
                table = $('#' + empty_table_id).DataTable( 
                    {
                        data: table_body_array, 
                        columns: column_header_array,
                        destroy: true,
                        "language": {
                            "search": "Search Within Table:"
                        },
                        buttons: true,
                        select: true,
                        select: {
                            style: 'multi'
                        },
                        responsive: true,
                        colReorder: true,
                        dom: "<'row'<'col-sm-6'B><'col-sm-3'><'col-sm-3'f>>" +
                        "<'row'<'col-sm-12'tr>>" +
                        "<'row'<'col-sm-2'l><'col-sm-5'><'col-sm-5'p>>", 
                        extend: 'collection',
                        buttons: [ 
                            
                            {
                                text: 'Select Columns to View &nbsp <span style="color: grey;" class="glyphicon glyphicon-triangle-bottom"></span>',
                                extend: 'colvis',
                                postfixButtons: [ 
                                    {
                                        extend: 'colvisRestore',
                                        text: '<span style="font-weight: bold;">Select All Columns </span>'
                                    }
                                ]
                                
                            },
                            
                            {
                                extend: 'excel',
                                text:'Export Selected Columns',
                                title: 'Audience Discovery Tool',
                                exportOptions: {
                                    columns: ':visible'
                                }
                            },
                            
                            
                            {
                                 extend: 'excel',
                                 text:'Export Selected Rows',
                                 title: 'Audience Discovery Tool',
                                 exportOptions: {
                                     modifier: {
                                         selected: true
                                     }
                                 }
                             }
                        ],
                        
                        "columnDefs": [
                            { className: "text-left", "targets": "_all"},
                            { className: "text-nowrap", "targets": "_all" },
                            { "width": "10%", "targets": 0 },
                            { "width": "40%", "targets": 1 }, 
                            { "width": "40%", "targets": 2 },
                            { "width": "10%", "targets": 3 },
                            { responsivePriority: 1, targets: 0 },
                            { responsivePriority: 2, targets: 1 },
                            { responsivePriority: 3, targets: 2 },
                            { responsivePriority: 4, targets: 3 }
                                                
                        ]
                        
                        
                        
                    });

                //table.colReorder.order( [ 2, 9, 8, 12, 5, 6, 1, 3, 4, 0, 7, 10, 11 ], true );      
                table.columns.adjust().draw();
                table.columns( 3 ).header().to$().text('Uniques');
                table.columns( 0 ).header().to$().text('Country');
                table.columns( 1 ).header().to$().text('Segment Name');
                table.columns( 2 ).header().to$().text('Segment Description');
                table.columns( 4 ).header().to$().text('Segment Category');
                table.columns( 5 ).header().to$().text('Display CPM ($)');
                table.columns( 6 ).header().to$().text('Video CPM ($)');
                table.columns( 7 ).header().to$().text('Lifetime');
                table.column( 4 ).visible( false );
                table.column( 5 ).visible( false );
                table.column( 6 ).visible( false );
                table.column( 7 ).visible( false );
                table.column( 8 ).visible( false );
                table.column( 9 ).visible( false );
                table.column( 10 ).visible( false );
                table.column( 11 ).visible( false );
                table.column( 12 ).visible( false );
                table.column( 13 ).visible( false );
                table.column( 14 ).visible( false );
                
                
            }

            catch (err){
                console.log(err);
            }    
            
        }

        function makeTable(){
            var sheet = viz.getWorkbook().getActiveSheet().getWorksheets().get("Table 1_Download");
            var x = document.getElementById("vis");
    
            if (x.style.display === "none") {
                
                bootbox.alert({ 
                    size: "small",
                    title: "Error! No Selections Made.",
                    message: "Please select from filters or search by keyword.", 
                })
                return;
            }
            console.log('Starting to make the table');
            get_data_options = {
                maxRows: 0, // Max rows to return. Use 0 to return all rows
                ignoreAliases: false,
                ignoreSelection: false,
                includeAllColumns: true
            };
                    sheet.getSummaryDataAsync(get_data_options).then(function(t){
                        //console.log(JSON.stringify(table.getData()).length);
                        if(JSON.stringify(t.getData()).length < 3)
                        {
                            bootbox.alert({ 
                                size: "small",
                                title: "0 Results Found!",
                                message: "Please try a different selection.", 
                            })
                            return;
                        }
                        buildDataTablesTable(t, 'formatted', 'dtTable');
                        myST();
                    });
            
        }           
        
        ////***END OF DATA TABLE GENERATION***////
        
        //FUNCTION FOR SEARCH BAR LOGIC//
        var para = "<p style = \"margin-left: 40px; text-indent: 0px;\">"
        
        function searchBar() {
            var keyword1 = "";
            var keyword2 = "";
            var keyword3 = "";
            var type = "";
            keyword1 = document.getElementById("keyword1").value;
            keyword2 = document.getElementById("keyword2").value;
            keyword3 = document.getElementById("keyword3").value;
            type = document.getElementById("type").value;
            console.log(keyword1);
            console.log(keyword2);
            console.log(keyword2.length);
            if(keyword2.length != 0 || keyword3.length != 0){
                viz.getWorkbook().changeParameterValueAsync('1st Key Phrase', keyword1);
                viz.getWorkbook().changeParameterValueAsync('2nd Key Phrase', keyword2);
                viz.getWorkbook().changeParameterValueAsync('1st boolean operator', type);
                viz.getWorkbook().changeParameterValueAsync('Exclude Phrase', keyword3);  
            }
            else{
                var bool = 'AND'
                viz.getWorkbook().changeParameterValueAsync('1st Key Phrase', keyword1);
                viz.getWorkbook().changeParameterValueAsync('2nd Key Phrase', '');
                viz.getWorkbook().changeParameterValueAsync('1st boolean operator', bool);
                viz.getWorkbook().changeParameterValueAsync('Exclude Phrase', ''); 
                console.log("keywords 2 and 3 are empty");
            }
            
            viz.refreshDataAsync();
            console.log("finish filter.");
            myHT();
            mysnote();
            mysvis();
            checkVis();
            
            viz.getWorkbook().getParametersAsync().then(function(p){
                for(i=0;i<p.length;i++){
                    p_name = p[i].getName();
                    if(p_name == "1st Key Phrase"){
                        p_value = p[i].getCurrentValue(); 
                        p_actual_value1 = p_value.value;
                        console.log( p_name + ' ----------> ' + p_actual_value1);
                    }
                    if(p_name == "1st boolean operator"){
                        p_value = p[i].getCurrentValue(); 
                        p_actual_value3 = p_value.value;
                        console.log( p_name + ' ----------> ' + p_actual_value3);
                    }
                    if(p_name == "2nd Key Phrase"){
                        p_value = p[i].getCurrentValue(); 
                        p_actual_value2 = p_value.value;
                        console.log( p_name + ' ----------> ' + p_actual_value2);
                    }
                }
            });
            
            
            if(keyword1.length != 0){
               document.getElementById("demo5").innerHTML = "<i class=\"ion-close-circled\" onclick =\"clearKeyword1();\"></i> &nbsp" + "Search Term" + ":<br>" + para + keyword1 + "</p>";
            }
            else{
                document.getElementById("demo5").innerHTML = "";
                checkList();
            }
            
            
            
            if(keyword2.length != 0){
                document.getElementById("demo6").innerHTML = "<i class=\"ion-close-circled\" onclick =\"clearKeyword2();\"></i> &nbsp" + "Search Term" + '(' + type + ')' + ":<br>" + para + keyword2 + "</p>";
            }
            else{
                document.getElementById("demo6").innerHTML = "";
                checkList();
            }
            
            
            
            if(keyword3.length != 0){
                document.getElementById("demo7").innerHTML = "<i class=\"ion-close-circled\" onclick =\"clearKeyword3();\"></i> &nbsp" + "Search Term" + "(Exclude)" + ":<br>" + para + keyword3 + "</p>";
            }
            else{
                document.getElementById("demo7").innerHTML = "";
                checkList();
            }
            
            
           
            
        }    
        
        
        //FUNCTION FOR THE BUTTONS//
        var bName; //global var
        var bClassName; //global var
        function profileFilter(element) {
		    console.log(element.id);
            bClassName = element.className;
            bName  = element.innerText;
            viz.getWorkbook().changeParameterValueAsync('Trending Keywords', element.id);
            if(bClassName != "btn btn-grey tablink bp all"){
                    clearOptions();
               }
            if($(element).parent().parent().attr('class') === "dropdown-menu nav nav-pills nav-stacked")
            {
                var tabName = $(element).parent().parent().attr('id'); 
            }
            else{
                   var tabName = $(element).parent().parent().attr('class');       
            }
            //buttonName = element.innerText;
            viz.getWorkbook().getParametersAsync().then(function(p){
                for(i=0;i<p.length;i++){
                    p_name = p[i].getName();
                    if(p_name == "Trending Keywords"){
                        p_value = p[i].getCurrentValue(); 
                        p_actual_value = p_value.value;
                        console.log( p_name + ' ----------> ' + p_actual_value);
                    }
                }
            });
            document.getElementById("demo4").innerHTML = "<i class=\"ion-close-circled\" onclick =\"clearButton();\"></i> &nbsp" + tabName + ":<br>" + para + bName + "</p>";
            myHT();
            mysnote();
            mysvis();
            checkVis();
            if(document.getElementById("demo3").innerHTML != ""){
                 change();               
               }
           
        }
        
        //FUNCTION FOR SELECT REGION AND ITS DISPLAY ON NOTEPAD//
        function changeRegion(region) {
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            var region1 = $('select#region').val();
            var r = new Array();
            var regionFilter = new Array();
            for (var i = 0; i < worksheets.length; i++) {
                if (region1 === null) {
                    worksheets[i].clearFilterAsync("Country Region Rollup");
                } else {
                    worksheets[i].applyFilterAsync("Country Region Rollup", region1, tableau.FilterUpdateType.REPLACE);
                }
            }
            
            if(region1 != null){
                document.getElementById("demo").innerHTML = "<i class=\"ion-close-circled\" onclick =\"clearRegion();\"></i> &nbsp" + "Region" + ":<br>" + para + region1 + "</p>";
                mysvis();
                mysnote();
            }
            else{
                document.getElementById("demo").innerHTML = "";
                checkList();
            }
            myHT();
            checkVis();
        } 
        
        //FUNCTION FOR SELECT COUNTRY AND ITS DISPLAY ON NOTEPAD// 
       
        function changeCountry(country) {
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            var country1 = $('select#country').val();
            var countryName = []; 
            $('#country :selected').each(function(i, selected){ 
                countryName[i] = $(selected).text(); 
            });
            console.log($('select#country').text());
            var n = new Array();
            var countryFilter = new Array();
            for (var i = 0; i < worksheets.length; i++) {
                if (country1 === null) {
                    worksheets[i].clearFilterAsync("1.Country");
                        } else {
                            worksheets[i].applyFilterAsync("1.Country", country1, tableau.FilterUpdateType.REPLACE); 
                        } 
            } 
            if(country1 != null){
                var showCountriesAsString = countryName.join(', ');
                console.log(showCountriesAsString);
                document.getElementById("demo1").innerHTML = "<i class=\"ion-close-circled\" onclick =\"clearCountry();\"></i> &nbsp" + "Country" + ":<br>" + para + showCountriesAsString + "</p>";
                mysvis();
                mysnote();
            }
            else {
                document.getElementById("demo1").innerHTML = "";
                checkList();                 
            }
            myHT();
            checkVis();
        }   
        
        //FUNCTION FOR SELECT SUPPLIER AND ITS DISPLAY ON NOTEPAD//
        function changeSupplier(supplier) {
            
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            var supplier1 = $('select#supplier').val();
            
            var q = new Array();
            var supplierFilter = new Array();
            for (var i = 0; i < worksheets.length; i++) {
                if (supplier1 === null) {
                    worksheets[i].clearFilterAsync("Segment Supplier");
                } else {
                    worksheets[i].applyFilterAsync("Segment Supplier", supplier1, tableau.FilterUpdateType.REPLACE);
                }   
            } 
            
            if(supplier1 != null){
                var showSuppliersAsString = supplier1.join(', ');
                document.getElementById("demo2").innerHTML = "<i class=\"ion-close-circled\" onclick =\"clearSupplier();\"></i> &nbsp" + "Data Supplier" + ":<br>" + para + showSuppliersAsString + "</p>";
                mysvis();
                mysnote();
            }
            else{
                document.getElementById("demo2").innerHTML = "";
                checkList();
            }
            myHT();
            checkVis();
        }
     
        
        
        function change(element){ 
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();  
            var favorite = [];
            $.each($("input[name='type']:checked"), function(){            
                favorite.push($(this).val());
            });
            if(bClassName != "btn btn-grey tablink bp all"){
               
                    clearButton();
               
               }
            var z = new Array();
            var segmentFilter = new Array();
            for (var i = 0; i < worksheets.length; i++) {
                if (favorite.length === 0) {
                    worksheets[i].clearFilterAsync("Segment Subcategory");
                    z.length = 0;
                    console.log(z);
                    document.getElementById("demo3").innerHTML = ""; 
                } 
                else {
                    worksheets[i].applyFilterAsync("Segment Subcategory", favorite, tableau.FilterUpdateType.REPLACE);
                }
            }
            
            if(favorite.length != 0){
                var showFavoriteAsString = favorite.join(', ');
                document.getElementById("demo3").innerHTML = "<i class=\"ion-close-circled\" onclick =\"clearOptions();\"></i> &nbsp" + "Segment Type: " + para + showFavoriteAsString + "</p>";
                mysvis();
                mysnote();
            }
            else{
                document.getElementById("demo3").innerHTML = "";
                checkList();
            }
            myHT();
            checkVis();
        }
        
        //CROSS BUTTON (OPTION)//
        function clearOptions(){   

            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            $('input:checkbox').removeAttr('checked');
            for (var i = 0; i < worksheets.length; i++) {
                worksheets[i].clearFilterAsync("Segment Subcategory");
            }
            myHT();
            document.getElementById("demo3").innerHTML = "";
            checkList();
        }   
        
        //CROSS BUTTON (BUTTON SELECTED)//
        function clearButton(){
            viz.getWorkbook().changeParameterValueAsync('Trending Keywords', "(All)");
            document.getElementById("demo4").innerHTML = "";
            checkList();            
            myHT();
        }
        
        //CROSS BUTTON (COUNTRY)//
        function clearCountry(){
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            
            for (var i = 0; i < worksheets.length; i++) {
                worksheets[i].clearFilterAsync("Country");
            }
            document.getElementById("demo1").innerHTML = "";
            checkList();
            myHT();
            $('#country').selectpicker('val', '');
        }
        
        //CROSS BUTTON (REGION)//
        function clearRegion(){
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            
            for (var i = 0; i < worksheets.length; i++) {
                 worksheets[i].clearFilterAsync("Country Region Rollup");
            }
            document.getElementById("demo").innerHTML = "";
            checkList();
            myHT();
            $('#region').selectpicker('val', '');
        }
        
        //CROSS BUTTONS (SEARCH TERMS)
        function clearKeyword1(){
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            
            document.getElementById('keyword1').value = ''; 
            document.getElementById("demo5").innerHTML = "";
            searchBar();
            checkList();
            myHT();
        }
        
        function clearKeyword2(){
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            
            document.getElementById('keyword2').value = ''; 
            document.getElementById("demo6").innerHTML = "";
            searchBar();
            checkList();
            myHT();
        }
        
        function clearKeyword3(){
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            
            document.getElementById('keyword3').value = ''; 
            document.getElementById("demo7").innerHTML = "";
            searchBar();
            checkList();
            myHT();
        }
        
        //CROSS BUTTON(SUPPLIER)//
        function clearSupplier(){
            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            
            for (var i = 0; i < worksheets.length; i++) {
                worksheets[i].clearFilterAsync("Segment Supplier");
            }
            document.getElementById("demo2").innerHTML = "";
            
            checkList();
            myHT();
            $('#supplier').selectpicker('val', '');
             
        }
        
        //CLEARING THE BUTTONS AND CHECKBOXES//
        function yaa(){   

            var sheet = viz.getWorkbook().getActiveSheet();
            var worksheets = sheet.getWorksheets();
            viz.getWorkbook().changeParameterValueAsync('Trending Keywords', "(All)");
            viz.getWorkbook().changeParameterValueAsync('Uniques', "10000");
            $('input:checkbox').removeAttr('checked');
            for (var i = 0; i < worksheets.length; i++) {
                worksheets[i].clearFilterAsync("Segment Subcategory");
            }
            document.getElementById("demo3").innerHTML = "";
            document.getElementById("demo4").innerHTML = "";
        }
        
        //CLEAR BUTTON ON INPUT SEARCH//
        function clearSearch() {
            
            document.getElementById('keyword1').value = ''; 
            document.getElementById('keyword2').value = ''; 
            document.getElementById('keyword3').value = '';
            document.getElementById("demo5").innerHTML = "";
            document.getElementById("demo6").innerHTML = "";
            document.getElementById("demo7").innerHTML = "";
            searchBar();
            checkList();
        }
        
        //"CLEAR FILTERS" BUTTON ON NOTEPAD//
        function clearAll() {
            yaa();
            clearCountry();
            clearRegion();
            clearSupplier();
            clearSearch();
            myhvis();
            myhnote();
            myHT();
            $('#country').selectpicker('val', '');
            $('#region').selectpicker('val', '');
            $('#supplier').selectpicker('val', '');
        }
        
        ///***FUNCTIONS FOR HIDING AND SHOWING ELEMENTS ON WEBPAGE***///
      
        function mysbody() {
            
            var y = document.getElementById("hiddenbody");
                
                if (y.style.visibility === "hidden") {
                    y.style.visibility = "visible";
                }
            
        }
        
        
        //HIDE LIST//
        function myhnote() {
            
            var y = document.getElementById("note");
                
                if (y.style.display === "block") {
                    y.style.display = "none";
                }
        }
        
        //SHOW LIST//
        function mysnote() {
            
            var y = document.getElementById("note");
                
                if (y.style.display === "none") {
                    y.style.display = "block";
                }
            
        }
        
        //SHOW RESULTS//
        function mysvis() {
            
            var x = document.getElementById("vis");
           
            if (x.style.display === "none") {
                x.style.display = "block";
            }
        }
        
        //HIDE RESULTS//
        function myhvis(){
            
            var x = document.getElementById("vis");
           
            if (x.style.display === "block") {
                x.style.display = "none";
            }
            
        }
        
        
        //SHOW DATA TABLE//
        function myST() {
            var x = document.getElementById("dataTablesDiv");
   
            if (x.style.display === "none") {
                x.style.display = "block";
            } 
        }
        
        //HIDE DATA TABLE//
        function myHT() {
            var x = document.getElementById("dataTablesDiv");
   
            if (x.style.display === "block") {
                x.style.display = "none";
            } 
                    
        }
        
        function checkList(){
            if( $('#demo').is(':empty') && $('#demo1').is(':empty') && $('#demo2').is(':empty') && $('#demo3').is(':empty') && $('#demo4').is(':empty') && $('#demo5').is(':empty') && $('#demo6').is(':empty') && $('#demo7').is(':empty') ) {
                myhnote();
                myhvis();
            }
            else{
                mysnote();
                mysvis();
            }
        }
        var global;
        function checkVis(){
                sheet = viz.getWorkbook().getActiveSheet().getWorksheets().get("Table 1_Download");
                options = {
                    maxRows: 10, 
                    ignoreAliases: false,
                    ignoreSelection: true,
                    includeAllColumns: false
                };
                sheet.getUnderlyingDataAsync(options).then(function(t){
                       table = t;
                       global = JSON.stringify(table.getData());
                    if(global.length < 3)
                        {
                            bootbox.alert({ 
                                size: "small",
                                title: "0 Results Found!",
                                message: "Please try a different selection.", 
                            })
                        }
                });
            }
        
        
        ////FUNCTION FOR LOADING THE VIZ////
        $(document).ready(function() {
            initViz();
            $("body").css("cursor", "wait");
        });
        
       
        var Demographic = new Array();
        Demographic = [
            
            "Age & Gender",
            "Education Level",
            "Employment Status",
            "Financial Status",
            "Languages",
            "Location - SA3",
            "Location",
            "Marital Status",
            "Social Grade",
            "Others"
        ]
        
        var DemographicIds = new Array();
        DemographicIds = [
            
            "Age & Gender",
            "Education Level",
            "Employment Status",
            "Financial Status",
            "Languages",
            "Location - SA3",
            "Location",
            "Marital Status",
            "Social Grade",
            "Ethnicity"
        ]
        
        var Household = new Array();
        Household = [
            
            "House Ownership",
            "House Size & Type",
            "Household Income",
            "Household Size",
            "Length of Residence",
            "Family Role"
        ]
        
        var HouseholdIds = new Array();
        HouseholdIds = [
            
            "House Ownership",
            "House Size & Type",
            "Household Income",
            "Household Size",
            "Length of Residence",
            "Family Role"
        ]
        
        var BrandsAndProducts = new Array();
        BrandsAndProducts = [
            
            "Apparel & Fashion",
            "Art & Design",
            "Autos & Vehicles",
            "Babies & Kids",
            "Beauty & Personal Care",
            "Computers & Software",
            "Consumer Electronics",
            "Consumer Services",
            "Credit & Lending",
            "Education & Career",
            "E-commerce",
            "Family & Parenting",
            "Finance",
            "Food & Drink",
            "Games",
            "Gifts",
            "Home & Garden",
            "Insurance",
            "Internet & Telecom",
            "Investment & Wealth Management",
            "Media & Entertainment",
            "Pharma & Healthcare",
            "Real Estate",
            "Retail",
            "Sports & Fitness",
            "Travel"
        ];
                
        var checkBoxLabels = new Array();
        checkBoxLabels = [
                    
            "Brand Affinity", 
            "Brand Intent", 
            "Brand Ownership", 
            "Product Ownership", 
            "Likely to Purchase", 
            "In-market"
        ];
        
        var checkBoxLabelsIds = new Array();
        checkBoxLabelsIds = [
                    
            "Brand Affinity", 
            "Brand Purchase Intent", 
            "Brand Ownership", 
            "Product Ownership", 
            "Likely to Purchase", 
            "In-market"
        ];
        
        var PopularProfiles = new Array();
        PopularProfiles = [
            
            "Auto Enthusiasts",
            "Education Seekers",
            "Entertainment Interest",
            "Fashion Interest",
            "Fitness & Wellness Interest",
            "Food Enthusiasts",
            "Gamers",
            "HNWI",
            "Luxury Lifestyle",
            "Millennials",
            "Parents",
            "Pet Lovers",
            "Political Interest",
            "Shoppers",
            "Sports Lovers",
            "Technology Interest",
            "Travel Enthusiasts"
        ];
        
        var PopularProfilesIds = new Array();
        PopularProfilesIds = [
            
            "Autos & Vehicles Interest",
            "Education & Career Interest",
            "Media & Entertainment Interest",
            "Apparel & Fashion Interest",
            "Sports & Fitness Interest",
            "Food & Drink Interest",
            "Games Interest",
            "HNWI",
            "Luxury",
            "Millennials",
            "Parents",
            "Pets Interest",
            "Politics Interest",
            "Retail Interest",
            "Sports & Fitness Interest",
            "Technology Interest",
            "Travel Interest"
        ];
        
        var Seasonal = new Array();
        Seasonal = [
            
            "Back to School",
            "Black Friday",
            "Chinese New Year",
            "Christmas",
            "Easter",
            "Election",
            "Event Shoppers",
            "Father's Day",
            "Halloween",
            "Holiday Shoppers",
            "Holiday Travelers",
            "Mother's Day",
            "Music Festivals",
            "New Year",
            "Sport Events",
            "Thanksgiving",
            "Valentine's Day",
            "Weddings",
            "Women's Day",
            "Other Events"
        ];
        
        var SeasonalIds = new Array();
        SeasonalIds = [
            
            "Back to School",
            "Black Friday",
            "Chinese New Year",
            "Christmas",
            "Easter",
            "Election",
            "Event Shoppers",
            "Father's Day",
            "Halloween",
            "Holiday Shoppers",
            "Holiday Travelers",
            "Mother's Day",
            "Music Festivals",
            "New Year",
            "Sport Events",
            "Thanksgiving",
            "Valentine's Day",
            "Weddings",
            "Women's Day",
            "Other Events"

        ];
            
        
        var Firmographic = new Array();
        Firmographic = [
            
            "Company Location",
            "Company Revenue",
            "Company Size",
            "Company Type",
            "Company Value"
        ]
        
        var Seniority = new Array();
        Seniority = [
            
            "Board Members",
            "C-Suite",
            "Junior Level",
            "Middle Management",
            "Others"
        ]
        
        var Industry = new Array();
        Industry = [
            
            "Advertising & Marketing",
            "Agriculture",
            "Banking",
            "Business Services",
            "Computers & Software",
            "Construction & Maintenance",
            "Consumer Services",
            "Energy & Utilities",
            "Finance",
            "Government & Nonprofit",
            "Human Resources",
            "Industrial Materials",
            "Insurance",
            "Internet & Telecom",
            "Manufacturing",
            "Real Estate",
            "Retail",
            "Sciences",
            "Technology",
            "Trading",
            "Transportation & Logistics"
        ]
        
        var IndustryIds = new Array();
        IndustryIds = [
            
            "Advertising & Marketing Prof",
            "Agriculture Prof",
            "Banking Prof",
            "Business Services Prof",
            "Computers & Softwares Prof",
            "Construction & Maintenance Prof",
            "Consumer Services Prof",
            "Energy & Utilities Prof",
            "Finance Prof",
            "Government & Nonprofit Prof",
            "Human Resources Prof",
            "Industrial Materials Prof",
            "Insurance Prof",
            "Internet & Telecom Prof",
            "Manufacturing Prof",
            "Real Estate Prof",
            "Retail Prof",
            "Sciences Prof",
            "Technology Prof",
            "Trading Prof",
            "Transportation & Logistics Prof"
        ]
        
        var FunctionalIds = new Array();
        FunctionalIds =[
            
            "Accounting & Finance Prof",
            "Administration Prof",
            "Business Prof",
            "Customer Services Prof",
            "Engineering Prof",
            "Human Resource Prof",
            "IT Professionals",
            "Legal Prof",
            "Logistics Prof",
            "Production & Operation Prof",
            "Purchasing Prof",
            "Research & Development Prof",
            "Sales & Marketing Prof"
        ]
        
        var Functional = new Array();
        Functional = [
            
            "Accounting & Finance Professionals",
            "Administration Professionals",
            "Business Professionals",
            "Customer Services Professionals",
            "Engineering Professionals",
            "Human Resource Professionals",
            "IT Professionals",
            "Legal Professionals",
            "Logistics Professionals",
            "Production & Operation Professionals",
            "Purchasing Professionals",
            "Research & Development Professionals",
            "Sales & Marketing Professionals"
        ]
        
        var ProductOwnership = new Array();
        ProductOwnership = [
            
            "Communication Technologies",
            "Computers",
            "Data Center Solutions",
            "Enterprise Applications",
            "Printers",
            "Web-Oriented Architecture"
        ]
        
        var ProductOwnershipIds = new Array();
        ProductOwnershipIds = [
            
            "B2B Communication Technologies",
            "B2B Computers",
            "B2B Data Center Solutions",
            "B2B Enterprise Applications",
            "B2B Printers",
            "B2B Web-Oriented Architecture"
        ]
        
        var B2BIntent = new Array();
        B2BIntent = [
            
            "Advertising & Marketing",
            "Business Services",
            "Construction & Maintenance",
            "Enterprise Technology",
            "Finance",
            "Human Resources",
            "Industrial Materials",
            "Internet & Telecom",
            "Energy & Utilities",
            "Manufacturing",
            "Pharma & Healthcare"
        ]
        
        var B2BIntentIds = new Array();
        B2BIntentIds = [
            
            "B2B Advertising & Marketing Intent",
            "B2B Business Services Intent",
            "B2B Construction & Maintenance Intent",
            "B2B Enterprise Technology Intent",
            "B2B Finance Intent",
            "B2B Human Resources Intent",
            "B2B Industrial Materials Intent",
            "B2B Internet & Telecom Intent",
            "B2B Energy & Utilities Intent",
            "B2B Manufacturing Intent",
            "B2B Pharma & Healthcare Intent"
        ]
        
        var B2BInterest = new Array();
        B2BInterest = [
            
            "Advertising & Marketing",
            "Agriculture",
            "Business & Economy",
            "Business Services",
            "Construction & Maintenance",
            "Credit & Lending",
            "Energy & Utilities",
            "Enterprise Technology",
            "Finance",
            "Human Resources",
            "Industrial Materials",
            "Internet & Telecom",
            "Investment & Wealth Management",
            "Manufacturing",
            "Pharma & Healthcare",
            "Transportation & Logistics",
            "Travel"
        ]
        
        var B2BInterestIds = new Array();
        B2BInterestIds = [
            
            "B2B Advertising & Marketing Interest",
            "B2B Agriculture Interest",
            "B2B Business & Economy Interest",
            "B2B Business Services Interest",
            "B2B Construction & Maintenance Interest",
            "B2B Credit & Lending Interest",
            "B2B Energy & Utilities Interest",
            "B2B Enterprise Technology Interest",
            "B2B Finance Interest",
            "B2B Human Resources Interest",
            "B2B Industrial Materials Interest",
            "B2B Internet & Telecom Interest",
            "B2B Investment & Wealth Management Interest",
            "B2B Manufacturing Interest",
            "B2B Pharma & Healthcare Interest",
            "B2B Transportation & Logistics Interest",
            "B2B Travel Interest"
        ]
        
        var arrNames = []; //regions
		var arrNames1 = []; //countries
		var arrNames11 = []; //suppliers
		var arrC = []; //sorted
		var arrD = []; //sorted
		var arrR = []; //sorted
		Object.keys(data).forEach(function(key){
			//get the value of name
			var vall = data[key]["Region"];
			var vall1 = data[key]["Country"];
			var vall11 = data[key]["SegmentSupplier"];
			//push the name string in the array
			arrNames.push(vall); //with duplicates
			arrNames1.push(vall1); //with duplicates
			arrNames11.push(vall11); //with duplicates
		});
		arrR = arrNames.filter( function( item, index, inputArray ) {
		return inputArray.indexOf(item) == index; //remove duplicates
			});
		arrC = arrNames1.filter( function( item, index, inputArray ) {
		return inputArray.indexOf(item) == index; //remove duplicates
			});
		arrD = arrNames11.filter( function( item, index, inputArray ) {
		return inputArray.indexOf(item) == index; //remove duplicates
			});
		arrR.sort();
		arrC.sort();
		arrD.sort();
        
        
        ///DEMOGRAPHIC BUTTONS///
        $(document).ready(function() {
            
            for (var i = 0; i < 6; i++) {
                $('#demogcon').append('<button class = "btn btn-grey tablink all" id="'+DemographicIds[i]+'" > ' + Demographic[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#demogcon').append('<br> <br>');
            
            
            for (var i = 6; i < Demographic.length; i++) {
                $('#demogcon').append('<button class = "btn btn-grey tablink all" id="'+DemographicIds[i]+'" > ' + Demographic[i] + '</button>' + '&nbsp &nbsp');
            }
            
         
            ///HOUSEHOLD BUTTONS///
            for (var i = 0; i < 4; i++) {
                $('#housecon').append('<button class = "btn btn-grey tablink all" id="'+HouseholdIds[i]+'" > ' + Household[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#housecon').append('<br> <br>');
            
            
            for (var i = 4; i < Household.length; i++) {
                $('#housecon').append('<button class = "btn btn-grey tablink all" id="'+HouseholdIds[i]+'" > ' + Household[i] + '</button>' + '&nbsp &nbsp');
            }
            
        
        
            ///SOCIODEMO BUTTONS///
            
                $('#sociodemog').append('<button class = "btn btn-inv tablink"> ' + 'All Sociodemographic Profiles' + '</button>' + '&nbsp &nbsp');
           
     
            ///BRANDS AND PRODUCTS BUTTONS///
            for (var i = 0; i < 5; i++) {
                $('#productscon').append('<button class = "btn btn-grey tablink bp all" id="'+BrandsAndProducts[i]+'" > ' + BrandsAndProducts[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#productscon').append('<br> <br>');
            
            
            for (var i = 5; i < 10; i++) {
                $('#productscon').append('<button class = "btn btn-grey tablink bp all" id="'+BrandsAndProducts[i]+'" > ' + BrandsAndProducts[i] + '</button>' + '&nbsp &nbsp');
            }
            
            
            $('#productscon').append('<button class="btn btn-inv" data-toggle="collapse" data-target="#col"><span class="glyphicon glyphicon-collapse-down"></span> More</button>');
            $('#productscon').append('<br> <br>');
            
           
            for (var i = 10; i < 15; i++) {
                $('#col').append('<button class = "btn btn-grey tablink bp all" id="'+BrandsAndProducts[i]+'" > ' + BrandsAndProducts[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#col').append('<br> <br>');
            
            
            for (var i = 15; i < 20; i++) {
                $('#col').append('<button class = "btn btn-grey tablink bp all" id="'+BrandsAndProducts[i]+'" > ' + BrandsAndProducts[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#col').append('<br> <br>');
            
            
            for (var i = 20; i < BrandsAndProducts.length; i++) {
                $('#col').append('<button class = "btn btn-grey tablink bp all" id="'+BrandsAndProducts[i]+'" > ' + BrandsAndProducts[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#col').append('<br> <br>');
            
            
            $('#col').append('<span style="color: gray;" class="glyphicon glyphicon-plus"></span>');
            $('#col').append('<br> <br>');
            
            
            for (var i = 0; i < checkBoxLabels.length; i++) {
                $('#col').append('<input type="checkbox" name="type" value="'+checkBoxLabelsIds[i]+'" onchange="change(this); "> ' + checkBoxLabels[i] + ' &nbsp');
            }
     
            ///POPULAR PROFILES BUTTONS///
            for (var i = 0; i < 5; i++) {
                $('#profilescon').append('<button class = "btn btn-grey tablink all" id="'+PopularProfilesIds[i]+'" > ' + PopularProfiles[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#profilescon').append('<br> <br>');
            
            
            for (var i = 5; i < 10; i++) {
                $('#profilescon').append('<button class = "btn btn-grey tablink all" id="'+PopularProfilesIds[i]+'" > ' + PopularProfiles[i] + '</button>' + '&nbsp &nbsp');
            }
            
            
            $('#profilescon').append('<button class="btn btn-inv" data-toggle="collapse" data-target="#col5"><span class="glyphicon glyphicon-collapse-down"></span> More</button>');
            $('#profilescon').append('<br> <br>');
            
           
            for (var i = 10; i < 15; i++) {
                $('#col5').append('<button class = "btn btn-grey tablink all" id="'+PopularProfilesIds[i]+'" > ' + PopularProfiles[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#col5').append('<br> <br>');
            
            
            for (var i = 15; i < PopularProfiles.length; i++) {
                $('#col5').append('<button class = "btn btn-grey tablink all" id="'+PopularProfilesIds[i]+'" > ' + PopularProfiles[i] + '</button>' + '&nbsp &nbsp');
            }
           
            
            
           
            ///SEASONAL BUTTONS///
            for (var i = 0; i < 5; i++) {
                $('#seasonalcon').append('<button class = "btn btn-grey tablink all" id="'+SeasonalIds[i]+'" > ' + Seasonal[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#seasonalcon').append('<br> <br>');
            
            
            for (var i = 5; i < 10; i++) {
                $('#seasonalcon').append('<button class = "btn btn-grey tablink all" id="'+SeasonalIds[i]+'" > ' + Seasonal[i] + '</button>' + '&nbsp &nbsp');
            }
            
            
            $('#seasonalcon').append('<button class="btn btn-inv" data-toggle="collapse" data-target="#col3"><span class="glyphicon glyphicon-collapse-down"></span> More</button>');
            $('#seasonalcon').append('<br> <br>');
            
           
            for (var i = 10; i < 15; i++) {
                $('#col3').append('<button class = "btn btn-grey tablink all" id="'+SeasonalIds[i]+'" > ' + Seasonal[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#col3').append('<br> <br>');
            
            
            for (var i = 15; i < 20; i++) {
                $('#col3').append('<button class = "btn btn-grey tablink all" id="'+SeasonalIds[i]+'" > ' + Seasonal[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#col3').append('<br> <br>');
            
            
            for (var i = 20; i < Seasonal.length; i++) {
                $('#col3').append('<button class = "btn btn-grey tablink all" id="'+Seasonal[i]+'" > ' + Seasonal[i] + '</button>' + '&nbsp &nbsp');
            }
        
            ///FIRMOGRAOHIC BUTTONS///
            for (var i = 0; i < Firmographic.length; i++) {
                $('#firmocon').append('<button class = "btn btn-grey tablink all" id="'+Firmographic[i]+'" > ' + Firmographic[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#firmocon').append('<br> <br>');
      
            ///SENIORITY BUTTONS///
            for (var i = 0; i < Seniority.length; i++) {
                $('#sencon').append('<button class = "btn btn-grey tablink all" id="'+Seniority[i]+'" > ' + Seniority[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#sencon').append('<br> <br>');
         
            ///INDUSTRY BUTTONS///
            for (var i = 0; i < 4; i++) {
                $('#induscon').append('<button class = "btn btn-grey tablink all" id="'+IndustryIds[i]+'" > ' + Industry[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#induscon').append('<br> <br>');
            
            for (var i = 4; i < 9; i++) {
                $('#induscon').append('<button class = "btn dropdown btn-grey tablink all" id="'+IndustryIds[i]+'" > ' + Industry[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#induscon').append('<button class="btn btn-inv" data-toggle="collapse" data-target="#ind"><span class="glyphicon glyphicon-collapse-down"></span> More</button>');
            $('#induscon').append('<br> <br>');
            
            
            for (var i = 9; i < 14; i++) {
                $('#ind').append('<button class = "btn btn-grey tablink all" id="'+IndustryIds[i]+'" > ' + Industry[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#ind').append('<br> <br>');
            
            
            for (var i = 14; i < 19; i++) {
                $('#ind').append('<button class = "btn btn-grey tablink all" id="'+IndustryIds[i]+'" > ' + Industry[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#ind').append('<br> <br>');
            
            for (var i = 19; i < Industry.length; i++) {
                $('#ind').append('<button class = "btn btn-grey tablink all" id="'+IndustryIds[i]+'" > ' + Industry[i] + '</button>' + '&nbsp &nbsp');
            }
            
            ///FUNCTIONAL AREA BUTTONS///
            for (var i = 0; i < 4; i++) {
                $('#functcon').append('<button class = "btn btn-grey tablink all" id="'+FunctionalIds[i]+'" > ' + Functional[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#functcon').append('<br> <br>');
            
            
            for (var i = 4; i < 8; i++) {
                $('#functcon').append('<button class = "btn btn-grey tablink all" id="'+FunctionalIds[i]+'" > ' + Functional[i] + '</button>' + '&nbsp &nbsp');
            }
            
            $('#functcon').append('<button class="btn btn-inv" data-toggle="collapse" data-target="#fun"><span class="glyphicon glyphicon-collapse-down"></span> More</button>');
            $('#functcon').append('<br> <br>');
            
            
            for (var i = 8; i < 12; i++) {
                $('#fun').append('<button class = "btn btn-grey tablink all" id="'+FunctionalIds[i]+'" > ' + Functional[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#fun').append('<br> <br>');
            
            for (var i = 12; i < Functional.length; i++) {
                $('#fun').append('<button class = "btn btn-grey tablink all" id="'+FunctionalIds[i]+'" > ' + Functional[i] + '</button>' + '&nbsp &nbsp');
            }         
            
            
            
            ///PRODUCT OWNERSHIP BUTTONS///
            for (var i = 0; i < 3; i++) {
                $('#owncon').append('<button class = "btn btn-grey tablink all" id="'+ProductOwnershipIds[i]+'" > ' + ProductOwnership[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#owncon').append('<br> <br>');
            
            
            for (var i = 3; i < ProductOwnership.length; i++) {
                $('#owncon').append('<button class = "btn btn-grey tablink all" id="'+ProductOwnershipIds[i]+'" > ' + ProductOwnership[i] + '</button>' + '&nbsp &nbsp');
            }
            
            ///B2B INTENT BUTTONS///
            for (var i = 0; i < 4; i++) {
                $('#intcon').append('<button class = "btn btn-grey tablink all" id="'+B2BIntentIds[i]+'" > ' + B2BIntent[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#intcon').append('<br> <br>');
            
            
            for (var i = 4; i < 8; i++) {
                $('#intcon').append('<button class = "btn btn-grey tablink all" id="'+B2BIntentIds[i]+'" > ' + B2BIntent[i] + '</button>' + '&nbsp &nbsp');
            }
            
            $('#intcon').append('<button class="btn btn-inv" data-toggle="collapse" data-target="#int"><span class="glyphicon glyphicon-collapse-down"></span> More</button>');
            $('#intcon').append('<br> <br>');
            
            
            for (var i = 8; i < 12; i++) {
                $('#int').append('<button class = "btn btn-grey tablink all" id="'+B2BIntentIds[i]+'" > ' + B2BIntent[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#int').append('<br> <br>');
            
            for (var i = 12; i < B2BIntent.length; i++) {
                $('#int').append('<button class = "btn btn-grey tablink all" id="'+B2BIntentIds[i]+'" > ' + B2BIntent[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#int').append('<br> <br>');
            
            ///B2B INTEREST BUTTONS///
            for (var i = 0; i < 4; i++) {
                $('#intecon').append('<button class = "btn btn-grey tablink all" id="'+B2BInterestIds[i]+'" > ' + B2BInterest[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#intecon').append('<br> <br>');
            
            
            for (var i = 4; i < 8; i++) {
                $('#intecon').append('<button class = "btn btn-grey tablink all" id="'+B2BInterestIds[i]+'" > ' + B2BInterest[i] + '</button>' + '&nbsp &nbsp');
            }
            
            $('#intecon').append('<button class="btn btn-inv" data-toggle="collapse" data-target="#inte"><span class="glyphicon glyphicon-collapse-down"></span> More</button>');
            $('#intecon').append('<br> <br>');
            
            
            for (var i = 8; i < 13; i++) {
                $('#inte').append('<button class = "btn btn-grey tablink all" id="'+B2BInterestIds[i]+'" > ' + B2BInterest[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#inte').append('<br> <br>');
            
            for (var i = 13; i < 18; i++) {
                $('#inte').append('<button class = "btn btn-grey tablink all" id="'+B2BInterestIds[i]+'" > ' + B2BInterest[i] + '</button>' + '&nbsp &nbsp');
            }
            $('#inte').append('<br> <br>');
            
            for (var i = 18; i < B2BInterest.length; i++) {
                $('#inte').append('<button class = "btn btn-grey tablink all" id="'+B2BInterestIds[i]+'" > ' + B2BInterest[i] + '</button>' + '&nbsp &nbsp');
            }
            
			for(var i = 0; i < arrD.length; i++){
				$("#supplier").append('<option value="'+arrD[i]+'">'+arrD[i]+'</option>');
			}
			$("#supplier").selectpicker('refresh');

			//for(var i = 0; i < arrC.length; i++){
				//$("#country").append('<option value="'+arrC[i]+'">'+arrC[i]+'</option>');
			//}
			//$("#country").selectpicker('refresh');
            
            
            
        });
		
		 $(document).ready(function() {
		
		$('[data-toggle="popover"]').popover({
				container: 'body'
			});
            
        });
     
        window.onload = function() {
            
            $('.all').click(function() {
                
                profileFilter(this); 
});
};
        
        
            </script>
          <!--  <script>__perf && performance.mark('js:execute');</script>-->
           

            <style>
        /*///STYLE FOR MAIN SKELETON///*/
        body {
            padding-top: 0px;
            font-family: 'Calibri', sans-serif;
            background: white;
        }
        
        .row.content {height: auto;}
        
        .greybg {
            padding-top: 5px;
            height: auto;
        }
        
        .row1 {
            height: 100px;
            background-color: #2481bd;
        }
       
        .ion-close-circled:hover{
            cursor: pointer;
        }
        
        
        /*///STYLE FOR SEARCH BAR///*/
        .dropdown.dropdown-lg .dropdown-menu {
            margin-top: -1px;
            padding: 6px 20px;
        }
        .input-group-btn .btn-group {
            display: flex !important;
        }
        .btn-group .btn {
            border-radius: 0;
            margin-left: -1px;
        }
        .btn-group .btn:last-child {
            border-top-right-radius: 4px;
            border-bottom-right-radius: 4px;
        }
        .btn-group .form-horizontal .btn[type="submit"] {
            border-top-left-radius: 4px;
            border-bottom-left-radius: 4px;
        }
        .form-horizontal .form-group {
            margin-left: 0;
            margin-right: 0;
        }
        .form-group .form-control:last-child {
            border-top-left-radius: 4px;
            border-bottom-left-radius: 4px;
        }

        @media screen and (min-width: 768px) {
            #adv-search {
                width: 500px;
                margin: 0 auto;
            }
            .dropdown.dropdown-lg {
                position: static !important;
            }
            .dropdown.dropdown-lg .dropdown-menu {
                min-width: 490px;
            }
        }


        /*///STYLE FOR MAIN TABS///*/
        ul.nav1 {
            white-space: nowrap;
            overflow-x: auto;   
        }

        ul.nav1 li {
            display: inline-block;
            float: none;
        }

        div.container {
            width: 50%;
        }
        
        /*///CUSTOMISED BOOTSTRAP BUTTONS///*/
        .btn-sq {
            width: 100px !important;
            height: 100px !important;
            font-size: 10px;
        }
        
        .bootstrap-select .btn1 {
            outline: none !important;
            border: none !important;
        }

        .btn-primary, .btn-primary:hover, .btn-primary:active, .btn-primary:visited, .btn-primary:focus
        {
            background-color: #0b407e !important;
            border-color: #0b407e !important;
        }


        .btn-success, .btn-success:hover, .btn-success:active, .btn-success:visited, .btn-success:focus 
        {
            background-color: #164da7  !important;
            border-color: #164da7 !important;
        }


        .btn-info, .btn-info:hover, .btn-info:active, .btn-info:visited, .btn-info:focus 
        {
            background-color: #2481bd !important;
            border-color: #2481bd !important;
        }

        .btn-warning, .btn-warning:hover, .btn-warning:active, .btn-warning:visited, .btn-warning:focus 
        {
            background-color: #1ab3d1 !important;
            border-color: #1ab3d1 !important;
        }

        .btn-danger, .btn-danger:hover, .btn-danger:active, .btn-danger:visited, .btn-danger:focus 
        {
            background-color: #15aaa8 !important;
            border-color: #15aaa8 !important;
        }            

        .btn-sgreen, .btn-sgreen:hover, .btn-sgreen:active, .btn-sgreen:visited, .btn-sgreen:focus 
        {
            background-color: #1ba284 !important;
            border-color: #1ba284 !important;
            color: white !important;
        } 

        .btn-sgreen2, .btn-sgreen2:hover, .btn-sgreen2:active, .btn-sgreen2:visited, .btn-sgreen2:focus 
        {
            background-color: #81a816 !important;
            border-color: #81a816 !important;
            color: white !important;
        }     

        .btn-sgreen3, .btn-sgreen3:hover, .btn-sgreen3:active, .btn-sgreen3:visited, .btn-sgreen3:focus 
        {
            background-color: #aede34 !important;
            border-color: #aede34 !important;
            color: white !important;
        } 

        .btn-grey, .btn-grey:hover 
        {
            background-color: #B5B5B5 !important;
            border-color: #B5B5B5 !important;
            color: white !important;
        } 

        .btn-grey:active, .btn-grey:visited, .btn-grey:focus
        {
            background-color: white !important;
            border-color: #B5B5B5 !important;
            color: #B5B5B5 !important; 
            outline: none !important;
            border-width: 2.5px !important;
        }

        .btn-inv, .btn-inv:hover, .btn-inv:active, .btn-inv:visited, .btn-inv:focus 
        {
            background-color: white !important;
            border-color: none !important;
            color: #B5B5B5 !important; 
            outline: none !important;

        }
        
        .btn-inv1, .btn-inv1:hover, .btn-inv1:active, .btn-inv1:visited, .btn-inv1:focus 
        {
            background-color: white !important;
            border-color: #B5B5B5 !important;
            color: #B5B5B5 !important; 
            outline: #B5B5B5 !important;
            border-width: 1px !important;


        }

        .btn-ngrey, .btn-ngrey:hover, .btn-ngrey:active, .btn-ngrey:visited, .btn-ngrey:focus 
        {
            background-color: #B5B5B5 !important;
             border-color: #B5B5B5 !important;
            color: white !important;
            border-width: 0px !important;
        } 

        .btn-dgrey, .btn-dgrey:hover, .btn-dgrey:active, .btn-dgrey:visited, .btn-dgrey:focus 
        {
            background-color: #666666 !important;
            border-color: #666666 !important;
            color: white !important;
        } 

         .btn-cay, .btn-cay:hover, .btn-cay:active, .btn-cay:visited, .btn-cay:focus 
        {
            background-color: #d84c56  !important;
            border-color: #d84c56 !important;
            color: white !important;
        } 
        
        a.dt-button.red {
            color: red;
        }
 
        
        
        /*///TAB STYLE AND COLOUR///*/
        
        /*ONE*/
        .nav-tabs { border-bottom: 2px solid #DDD; }
        .nav-tabs > li.active > a, .nav-tabs > li.active > a:focus, .nav-tabs > li.active > a:hover { border-width: 0; }

        .nav-tabs > li > a { border: none; color: #ffffff;background: #094989; }

        .nav-tabs > li.active > a, .nav-tabs > li > a:hover { border: none;  color: #094989 !important; background: #fff; }

        .nav-tabs > li > a::after { content: ""; background: #094989; height: 2px; position: absolute; width: 100%; left: 0px; bottom: -1px; transition: all 250ms ease 0s; transform: scale(0); }

        /*TWO*/
        .nav-tabs > li > a.two { border: none; color: #ffffff;background: #1957b0; }

        .nav-tabs > li.active > a.two, .nav-tabs > li > a.two:hover { border: none;  color: #1957b0 !important; background: #fff; }

        .nav-tabs > li > a.two::after { content: ""; background: #1957b0; height: 2px; position: absolute; width: 100%; left: 0px; bottom: -1px; transition: all 250ms ease 0s; transform: scale(0); }
        
        /*THREE*/
        .nav-tabs > li > a.three { border: none; color: #ffffff;background: #298cc5; }

        .nav-tabs > li.active > a.three, .nav-tabs > li > a.three:hover { border: none;  color: #298cc5 !important; background: #fff; }

        .nav-tabs > li > a.three::after { content: ""; background: #298cc5; height: 2px; position: absolute; width: 100%; left: 0px; bottom: -1px; transition: all 250ms ease 0s; transform: scale(0); }

        /*FOUR*/
        .nav-tabs > li > a.four { border: none; color: #ffffff;background: #1dbbd7; }

        .nav-tabs > li.active > a.four, .nav-tabs > li > a.four:hover { border: none;  color: #1dbbd7 !important; background: #fff; }

        .nav-tabs > li > a.four::after { content: ""; background: #1dbbd7; height: 2px; position: absolute; width: 100%; left: 0px; bottom: -1px; transition: all 250ms ease 0s; transform: scale(0); }

        /*FIVE*/
        .nav-tabs > li > a.five { border: none; color: #ffffff;background: #17b3b1; }

        .nav-tabs > li.active > a.five, .nav-tabs > li > a.five:hover { border: none;  color: #17b3b1 !important; background: #fff; }

        .nav-tabs > li > a.five::after { content: ""; background: #17b3b1; height: 2px; position: absolute; width: 100%; left: 0px; bottom: -1px; transition: all 250ms ease 0s; transform: scale(0); }

        .nav-tabs > li.active > a::after, .nav-tabs > li:hover > a::after { transform: scale(1); }
        .tab-nav > li > a::after { background: ##5a4080 none repeat scroll 0% 0%; color: #fff; }
        .tab-pane { padding: 15px 0; }
        .tab-content{background-color: #666666; padding:20px}
        .nav-tabs > li  {width:20%; text-align:center;}
        .card {background: #666666 none repeat scroll 0% 0%; box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.3); margin-bottom: 30px; }
   
        @media all and (max-width:724px){
            .nav-tabs > li > a > span {display:none;}	
            .nav-tabs > li > a {padding: 5px 5px;}
        }

        /* LOGO OR HOME BUTTON */
        .image:hover{
            cursor: pointer;
        }
        
        /* NOTEPAD */
        .gradient-pattern {
            -webkit-box-sizing: content-box;
            -moz-box-sizing: content-box;
            box-sizing: content-box;
            width: auto;
            height: auto;
            border: none;
            font: normal 99%/19px Verdana, Geneva, sans-serif;
            color: rgba(90,90,90,1);
            text-indent: 4px;
            word-wrap: break-word;
            -o-text-overflow: clip;
            text-overflow: clip;
            word-spacing: 4px;
            background: -webkit-linear-gradient(90deg, rgba(170,170,170,0) 0, rgba(132,132,132,0) 1%, rgba(132,132,132,0) 93%,   rgba(132,132,132,0) 93%, rgba(132,132,132,0) 93%, rgba(71,227,255,1) 94%, rgba(201,201,201,1) 100%, rgba(234,234,234,1) 100%, rgba(198,198,198,1) , rgba(198,198,198,1) 100%), white;
            background: -moz-linear-gradient(0deg, rgba(170,170,170,0) 0, rgba(132,132,132,0) 1%, rgba(132,132,132,0) 93%, rgba(132,132,132,0) 93%, rgba(132,132,132,0) 93%, rgba(71,227,255,1) 94%, rgba(201,201,201,1) 100%, rgba(234,234,234,1) 100%, rgba(198,198,198,1) , rgba(198,198,198,1) 100%), white;
            background: linear-gradient(0deg, rgba(170,170,170,0) 0, rgba(132,132,132,0) 1%, rgba(132,132,132,0) 93%, rgba(132,132,132,0) 93%, rgba(132,132,132,0) 93%, rgba(71,227,255,1) 94%, rgba(201,201,201,1) 100%, rgba(234,234,234,1) 100%, rgba(198,198,198,1) , rgba(198,198,198,1) 100%), white;
            background-repeat: no-repeat;
            background-position: auto auto;
            -webkit-background-origin: padding-box;
            background-origin: padding-box;
            -webkit-background-clip: border-box;
            background-clip: border-box;
            -webkit-background-size: 0 -11.8em;
            background-size: 0 -11.8em;
            -webkit-box-shadow: 4px 4px 5px 2px rgba(0,0,0,0.3) ;
            box-shadow: 4px 4px 5px 2px rgba(0,0,0,0.3) ;
        }
        
        .box {
            width:auto;
            height:auto;
            background:#f2f6fa;
            font: normal 99%/19px Verdana, Geneva, sans-serif;
            color: rgba(90,90,90,1);
            text-indent: 4px;
            word-wrap: break-word;
            word-spacing: 4px;
        }

        .effect2
        {
    position: relative;
        }
        
        .effect2:before, .effect2:after
        {
            z-index: -1;
            position: absolute;
            content: "";
            bottom: 15px;
            left: 10px;
            width: 50%;
            top: 80%;
            max-width:300px;
            background: #777;
            box-shadow: 0 15px 10px #777;
            transform: rotate(-3deg);
        }
        
        .effect2:after
        {
            transform: rotate(3deg);
            right: 10px;
            left: auto;
        }
		
		.popover-content {
			text-align:center;			
		}
		.popover{
			width:385px;
		}


        </style>
          
            
             <!-- Start analytics tracking snippet -->
            <script>
                window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
                ga('create', 'UA-111243016-1', 'auto', {siteSpeedSampleRate: 100});
                ga('send', 'pageview');
            </script>
            <script async src="https://www.google-analytics.com/analytics.js"></script>
           
        </head>

        <body>
            <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NM3HWG3"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

            <!--first part with tool box-->
            <div class="row content" id = "hiddenbody" style="visibility: hidden; " >
                
                    
                    <div style="" class="col-lg-12">
                            
                                    <!--row for filters and the search bar-->
                                   <div style="background-image: url(https://cdn2.hubspot.net/hubfs/546156/Audience%20Report%20Images/new.png); background-size: 100%;" class="row1">
                                            
                                       <div class="col-lg-7 align-middle" style="padding-top: 10px" >
                                            &nbsp
                                           <img src="https://cdn2.hubspot.net/hubfs/546156/Audience%20Report%20Images/Audience%20Discovery%20Tool_logo.png" style="width: 20%; height: 10%; margin-right: 10px;" onclick="location.reload();" class="image">
                                           <select class="selectpicker" id="region" onchange="changeRegion(value); "  title="Select Region" data-width="fit" data-selected-text-format="static" data-selected-text-format="static">
                                                    <option value="Americas">Americas</option>
                                                    <option value="Asia">Asia</option>
                                                    <option value="Europe">Europe</option>
                                                    <option value="MEA">MEA</option>
                                                    <option value="Oceania">Oceania</option>
                                           </select>
                                            &nbsp
                                           <select class="selectpicker" multiple id="country" onchange="changeCountry(value); "  data-live-search="true" title="Select Country" data-width="fit" data-actions-box="true" data-selected-text-format="static">
                                                   <option value="Australia">Australia</option>
                                                    <option value="Austria">Austria</option>
                                                    <option value="Belgium">Belgium</option>
                                                    <option value="Brazil">Brazil</option>
                                                    <option value="Canada">Canada</option>
                                                    <option value="France">France</option>
                                                    <option value="Germany">Germany</option>
                                                    <option value="Hong Kong">Hong Kong</option>
                                                    <option value="India">India</option>
                                                    <option value="Indonesia">Indonesia</option>
                                                    <option value="Ireland">Ireland</option>
                                                    <option value="Italy">Italy</option>
                                                    <option value="Japan">Japan</option>
                                                    <option value="Korea, Republic Of">Korea</option>
                                                    <option value="Malaysia">Malaysia</option>
                                                    <option value="Mexico">Mexico</option>
                                                    <option value="Netherlands">Netherlands</option>
                                                    <option value="New Zealand">New Zealand</option>
                                                    <option value="Norway">Norway</option>
                                                    <option value="Philippiness">Philippines</option>
                                                    <option value="Poland">Poland</option>
                                                    <option value="Russian Federation">Russian Federation</option>
                                                    <option value="Saudi Arabia">Saudi Arabia</option>
                                                    <option value="Singapore">Singapore</option>
                                                    <option value="Spain">Spain</option>
                                                    <option value="Sweden">Sweden</option>
                                                    <option value="Switzerland">Switzerland</option>
                                                    <option value="Taiwan">Taiwan</option>
                                                    <option value="Thailand">Thailand</option>
                                                    <option value="Turkey">Turkey</option>
                                                    <option value="United Arab Emirates">UAE</option>
                                                    <option value="United Kingdom">United Kingdom</option>
                                                    <option value="United States">United States</option>
                                                    <option value="Vietnam">Vietnam</option>
                                         </select>
                                       &nbsp

                                       <select class="selectpicker" multiple id="supplier" onchange="changeSupplier(value); " title="Select Data Supplier"  data-live-search="true" data- title="Select Data Supplier" data-width="fit" data-actions-box="true" data-selected-text-format="static">

                                                    <!--<option value="33Across">33Across</option>
                                                    <option value="Aidata">Aidata</option>
                                                    <option value="AimMatic">AimMatic</option>
                                                    <option value="ALC">ALC</option>
                                                    <option value="AmberData">AmberData</option>
                                                    <option value="Bombora">Bombora</option>
                                                    <option value="CACI">CACI</option>
                                                    <option value="CareerOne">CareerOne</option>
                                                    <option value="CoreLogic">CoreLogic</option>
                                                    <option value="Data Locator (DLG)">Data Locator</option>
                                                    <option value="DataXpand">DataXpand</option>
                                                    <option value="Dun & Bradstreet">Dun & Bradstreet</option>
                                                    <option value="Experian">Experian</option>
                                                    <option value="Eyeota">Eyeota</option>
                                                    <option value="EyeSocial">EyeSocial</option>
                                                    <option value="GfK">GfK</option>
                                                    <option value="Grapeshot">Grapeshot</option>
                                                    <option value="Gutefrage">Gutefrage</option>
                                                    <option value="Jetmax">Jetmax</option>
                                                    <option value="Kantar Media">Kantar Media</option>
                                                    <option value="Master Card">Master Card</option>
                                                    <option value="Mobilewala">Mobilewala</option>
                                                    <option value="Netsprint">Netsprint</option>
                                                    <option value="OmniDIGITAL by MeritDirect">OmniDIGITAL by MeritDirect</option>
                                                    <option value="onAudience">onAudience</option>
                                                    <option value="Onedio">Onedio</option>
                                                    <option value="Pacific Data Partners">Pacific Data Partners</option>
                                                    <option value="Plunge Digital">Plunge Digital</option>
                                                    <option value="Reklam Store">Reklam Store</option>
                                                    <option value="Roy Morgan">Roy Morgan</option>
                                                    <option value="Schober">Schober</option>
                                                    <option value="Semasio">Semasio</option>
                                                    <option value="ShareThis">ShareThis</option>
                                                    <option value="Skimlinks">Skimlinks</option>
                                                    <option value="SMS-INC">SMS-INC</option>
                                                    <option value="Stirista">Stirista</option>
                                                    <option value="Sydney Airport">Sydney Airport</option>
                                                    <option value="Transactis">Transactis</option>
                                                    <option value="Whooz">Whooz</option>
                                                    <option value="YouGov">YouGov</option>-->
                                         </select>
										 
										
										 
                                        </div>
										 <div style="text-align: left; padding-top: 20px; margin-left:-60px;" class="col-lg-1 align-middle">
									 <a href="#" data-toggle="popover" data-content="Apply region/country/data supplier filters individually or in combination to find relevant results. Filtered results will appear in the table. Currently, list of suppliers does not change on selecting region/country. This feature will be updated soon!"><i style="font-size: 180%; padding-top: 35px;" class="ion-ios-information-outline"></i></a>
										 
									</div>

                                       <div class="col-lg-4 text-left" style = "margin-left:-40px;"> 
                                           <br>                   
                                           <!--serach bar--> 
                                           <div class="form-group input-group" id="adv-search" style="padding-right: 10px; padding-top:3px;" >
                                               <input id="keyword1" type="text" class="form-control" placeholder="Search by Segment Name or Keyword" onkeydown = "if (event.keyCode == 13)
                                               document.getElementById('sub').click()"    /> 
                                               <div class="input-group-btn">
                                                   <div class="btn-group" role="group">
                                                       <button type="button" class="btn btn-ngrey" onclick="clearSearch();"><i class="ion-close-round"></i></button>
                                                       <div class="dropdown dropdown-lg">
                                                           <button type="button" class="btn btn-inv" data-toggle="dropdown" aria-expanded="false"><span class="glyphicon glyphicon-plus"></span></button>
                                                           <div class="dropdown-menu dropdown-menu-right" role="menu">
                                                               <form class="form-horizontal" role="form">
                                                                   <div class="form-group">
                                                                       <br>
                                                                       <select id="type" class="form-control">
                                                                           <option value="AND" selected>AND</option>
                                                                           <option value="OR">OR</option>
                                                                       </select>
                                                                       <input id="keyword2" value="" class="form-control" type="text" placeholder="Keyword 2" onkeydown = "if (event.keyCode == 13)
                                                                       document.getElementById('sub').click()" />
                                                                   </div>
                                                                   <div class="form-group">
                                                                       <select id="type" class="form-control">
                                                                           <option value="exclude">Exclude</option>
                                                                       </select>                                 
                                                                       <input id="keyword3" value="" class="form-control" type="text" placeholder="Keyword 3" onkeydown = "if (event.keyCode == 13)
                                                                       document.getElementById('sub').click()" />
                                                                   </div>
                                                               </form>
                                                           </div>
                                                       </div>
                                                       <button type="button" id="sub" class="btn btn-inv" onclick="searchBar(); "><span class="glyphicon glyphicon-search"></span></button>
                                                   </div>
                                               </div>
                                           </div>
                                           <!--<center> <h6 style="color: white;">* Click on Advanced for multiple keywords</h6></center> -->
                                       </div>
                        </div>
                        
                        <!--grey box-->
                        <div  class="greybg">
                            <div class="col-lg-12"> 
                                <!--tabs and the contents-->
                                <div class="row"> 
                                    <ul class="nav nav-tabs responsive-tabs" id="myTab">
                                        
                                        <!--sociodemographic tab-->
                                        <li style="font-size: 120%" class="dropdown">
                                            <a class="btn dropdown-toggle" data-toggle="dropdown" href="#" style="font-size: 100%">
                                                <span class="glyphicon glyphicon-user"></span> &nbsp Sociodemographic <span class="caret"></span>
                                            </a>
                                            <ul class="dropdown-menu nav nav-pills nav-stacked" id = "Sociodemographic" style="width: 245px !important; height: 130px !important;">
                                                
                                                <li><a href="#demog" class="active" data-toggle="tab" id="Demographic" onclick="profileFilter(this);">Demographic</a></li>
                                                <li><a href="#household" data-toggle="tab" id="Household" onclick="profileFilter(this);">Household</a></li>
                                                <li><a href="#sociodemog" data-toggle="tab" id="Sociodemographic Profiles" onclick="profileFilter(this);">Sociodemographic Profiles</a></li>
                                               
                                            </ul>
                                        </li>
                                        
                                        <!--b2b tab-->
                                        <li style="font-size: 120%" class="dropdown">
                                            <a class="btn dropdown-toggle two" data-toggle="dropdown" href="#" style="font-size: 100%">
                                                <span class="glyphicon glyphicon-briefcase"></span> &nbsp B2B <span class="caret"></span>
                                            </a>
                                            <ul class="dropdown-menu nav nav-pills nav-stacked" id="B2B" style="width: 245px !important; height: 300px !important;">

                                                <li><a href="#firmo" class="active" data-toggle="tab" id="Firmographic" onclick="profileFilter(this);">Firmographic</a></li>
                                                <li><a href="#senio" data-toggle="tab" id="Seniority" onclick="profileFilter(this);">Seniority</a></li>
                                                <li><a href="#indus" data-toggle="tab" id="Industry" onclick="profileFilter(this);">Industry</a></li>
                                                <li><a href="#functional" data-toggle="tab" id="Functional Area" onclick="profileFilter(this);">Functional Area</a></li>
                                                <li><a href="#ownership" data-toggle="tab" id="B2B Product Ownership" onclick="profileFilter(this);">B2B Product Ownership</a></li>
                                                <li><a href="#intent" data-toggle="tab" id="B2B Intent" onclick="profileFilter(this);">B2B Intent</a></li>
                                                <li><a href="#interest" data-toggle="tab" id="B2B Interest" onclick="profileFilter(this);">B2B Interest</a></li>

                                            </ul>
                                        </li>
                                        
                                        <!--brands and products tab-->
                                        <li style="font-size: 120%"><a class ="three" data-toggle="tab" href="#products"><span class="glyphicon glyphicon-tags"></span> &nbsp Brands & Products</a></li>
                                        
                                        <!--popular profiles tab-->
                                        <li style="font-size: 120%"><a class ="four" data-toggle="tab" href="#poppro"><span class="glyphicon glyphicon-heart"></span> &nbsp Popular Profiles</a></li>                        

                                        <!--seasonal tab-->
                                        <li style="font-size: 120%"><a class ="five" data-toggle="tab" href="#seasonal"><span class="glyphicon glyphicon-calendar"></span> &nbsp Seasonal</a></li>
                                        
                                        
                                        
                                    </ul>

                                    <!--tab content-->
                                    <div style="background-color: #ebebeb;" class="tab-content responsive">
                                        
                                        <!--trending keywords for sociodemo tab--> 
                                        <div id="demog" style="text-align: center;" class="tab-pane fade">
                                            <div class="Demographic"> 
                                                <div id = "demogcon" class="Demographic">
                                                     
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div id="household" style="text-align: center;" class="tab-pane fade">
                                            <div class="Household">
                                                <div id = "housecon" class="Household">
                                                   
                                                </div>
                                            
                                                <div id="house1" class="collapse" style="border-top: 2px; border-top-style: dashed; border-top-color:#B5B5B5;"> 
                                                    <br><br>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div id="sociodemog" style="text-align: center;" class="tab-pane fade">
                                            
                                        </div>
                                        
                                        
                                        <!--trending keywords for Brands & Products tab--> 
                                        <div id="products" style="text-align: center;" class="tab-pane fade"> 
                                            <div class="Brands & Products">      
                                                <div id="productscon">

                                                </div>
                                                    
                                                <div id="col" class="collapse" style="border-top: 2px; border-top-style: dashed; border-top-color:#B5B5B5;">
                                                    <br><br>
                                                    
                                                </div>
                                            </div>
                                        </div>

                                        <!--trending keywords for popro tab--> 
                                        <div  id="poppro" style="text-align: center;" class="tab-pane fade button-group">
                                            <div class="Popular Profiles">      
                                                <div id = "profilescon">
                                                   
                                                </div>
                                            
                                                <div id="col5" class="collapse" style="border-top: 2px; border-top-style: dashed; border-top-color:#B5B5B5;"> 
                                                    <br><br>
                                                    
                                                </div>
                                            </div>
                                        </div>

                                        <!--trending keywords for Seasonal tab-->  
                                        <div id="seasonal" style="text-align: center;" class="tab-pane fade">
                                            <div class="Seasonal">  
                                                <div id = "seasonalcon">
                                                    
                                                </div>
                                                
                                                <div id="col3" class="collapse" style="border-top: 2px; border-top-style: dashed; border-top-color:#B5B5B5;"> <br><br>
                                                     
                                                </div>
                                            </div>     
                                        </div>

                                        <!--trending keywords for B2B tab-->
                                        <div id="firmo" style="text-align: center;" class="tab-pane fade">                               
                                            <div class="Firmographic">
                                                <div id = "firmocon">
                                                 
                                                </div>
                                            </div>
                                        </div>

                                        <div id="senio" style="text-align: center;" class="tab-pane fade">                                
                                            <div class = "Seniority">
                                                <div id = "sencon">
                                                
                                                </div>
                                            </div>      
                                        </div>
                                        
                                        <div id="indus" style="text-align: center;" class="tab-pane fade">                                
                                            <div class="Industry">
                                                <div id = "induscon">
                                                
                                                </div>
                                                
                                                <div id="ind" class="collapse" style="border-top: 2px; border-top-style: dashed; border-top-color:#B5B5B5;">
                                                    <br><br>
                                                    
                                                </div>
                                            </div>          
                                        </div>
                                        
                                        <div id="functional" style="text-align: center;" class="tab-pane fade">                                
                                            <div class="Functional Area">
                                                <div id = "functcon">
                                                
                                                </div>
                                                
                                                <div id="fun" class="collapse" style="border-top: 2px; border-top-style: dashed; border-top-color:#B5B5B5;">
                                                    <br><br>
                                                    
                                                </div>
                                            </div>       
                                        </div>
                                        
                                        <div id="intent" style="text-align: center;" class="tab-pane fade">                                
                                            
                                            <div class="B2B Intent">
                                                <div id = "intcon">
                                                
                                                </div>
                                            
                                                <div id="int" class="collapse" style="border-top: 2px; border-top-style: dashed; border-top-color:#B5B5B5;">
                                                    <br><br>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div id="interest" style="text-align: center;" class="tab-pane fade">                                
                                            <div class="B2B Interest">
                                                <div id = "intecon">
                                                
                                                </div>
                                             
                                                <div id="inte" class="collapse" style="border-top: 2px; border-top-style: dashed; border-top-color:#B5B5B5;">
                                                    <br><br>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div id="ownership" style="text-align: center;" class="tab-pane fade">                                
                                            <div class="B2B Product Ownership">                                            
                                                <div id = "owncon">

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <br> 
                                
                                <!--row with the viz, notepad-->
                                <div id="nv" class="row" style="">
                                            
                                    <div class="col-lg-3">
                                        <div id="note" class="box effect2" style="margin-left: 18px; display: none;">
                                            <img src="https://cdn2.hubspot.net/hubfs/546156/Audience%20Report%20Images/bluepin.png" width="5%" height="5%" style="display: block; margin-left: auto; margin-right: auto;">
                                            <p style="text-align: center; font-size: 125%;">Filters Applied</p>
                                            <p id="demo"></p>
                                            <p id="demo1"></p>
                                            <p id="demo2"></p>
                                            <p id="demo5"></p>
                                            <p id="demo6"></p>
                                            <p id="demo7"></p>
                                            <p id="demo4"></p>
                                            <p id="demo3"></p>
                                                        
                                            <div class="row text-center">
                                                <button id="clearAll" onclick="clearAll();" style="text-align: center; margin-bottom: 3px;"     class="btn btn btn-ngrey btn-sm">Clear Filters</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-9 text-left">
                                        <div id="vis" style="position: relative; overflow: hidden; height: 125px; display: none;">    
                                            <div style="background-color: white; margin-left: 0px; padding: 0px; display: block; width: 50%;    height: auto; position: absolute; left: -350px;" id="vizContainer"></div>
                                        </div>
                                    </div>
                                </div>
                                <br>
                                <!--row with apply and clear button-->
                                <div class="row">
                                    <div class="col-lg-5"></div>
                                    <!--make table button-->
                                    <div style="text-align: center;" class="col-lg-1">
                                        <a><button id="getDataSummary" onclick="makeTable();" class="btn btn btn-cay btn-lg">Get Results</button></a> &nbsp 
										
                                    </div>
									<div style="text-align: left; padding-left:50px; margin-top:0px;" class="col-lg-3 align-middle">
									 <a href="#" data-toggle="popover" data-content="Click to generate the table of segments, based on selected filters. When changing filters, click again to refresh."><i style="font-size: 180%; padding-top: 16px;" class="ion-ios-information-outline"></i></a>
										 &nbsp
									</div>
                                    <div class="col-lg-3"></div>
                                </div>
                            </div>   
                        </div>
                </div>
            </div>         

            <!--second part of website with result table-->
            <div class="row content" style="text-align: center;">
                <br><br>
                <!--data table-->        
                <div id='dataTablesDiv' style="display: none; "><table id="dtTable" class="table table-striped table-bordered table-hover table-condensed responsive no-wrap" cellspacing="0" width="100%"></table>
                </div>
            </div>
           
        </body>
</html>